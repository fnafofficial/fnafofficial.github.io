function initializeWebsite(){setupSmoothScrolling(),setupGameCards(),setupLoadingAnimation(),setupIntersectionObserver(),setupNavigation()}function setupSmoothScrolling(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const n=this.getAttribute("href"),t=document.querySelector(n);if(t){const e=document.querySelector("header").offsetHeight,a=t.offsetTop-e;window.scrollTo({top:a,behavior:"smooth"}),history.pushState(null,null,n)}})})}function setupGameCards(){document.querySelectorAll(".game-card").forEach(e=>{e.classList.add("fade-in")})}function setupLoadingAnimation(){document.body.style.opacity="0",document.body.style.transition="opacity 0.5s ease-in-out",window.addEventListener("load",function(){setTimeout(()=>{document.body.style.opacity="1"},100)})}function setupIntersectionObserver(){const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("visible")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".game-card").forEach(n=>{e.observe(n)}),document.querySelectorAll(".feature-card").forEach(n=>{n.classList.add("fade-in"),e.observe(n)})}function setupNavigation(){const e=document.querySelector("header");let n=0;window.addEventListener("scroll",function(){const t=window.pageYOffset||document.documentElement.scrollTop;e.style.transform=t>n&&t>100?"translateY(-100%)":"translateY(0)",n=t});const t=document.querySelector(".mobile-menu-toggle");t&&t.addEventListener("click",function(){document.querySelector(".nav-menu").classList.toggle("active")})}function playGame(e){const n=event.target,t=n.textContent;n.textContent="Loading...",n.disabled=!0;const a={fnaf1:"fnaf1",fnaf2:"fnaf2",fnaf3:"fnaf3",fnaf4:"fnaf4",ucn:"fnaf-ucn","fnaf-hack":"fnaf-hack"}[e];a?setTimeout(()=>{showGameIframe(e,a),n.textContent=t,n.disabled=!1},500):setTimeout(()=>{showGameModal(e),n.textContent=t,n.disabled=!1},1e3)}function showGameIframe(e,n){const t=getGameData(e),a=document.createElement("div");a.className="game-modal-overlay",a.innerHTML=`\n    <div class="game-modal-container">\n      <div class="game-modal-header">\n        <h2 class="game-modal-title">${t.title}</h2>\n        <div class="game-modal-controls">\n          <button class="fullscreen-btn" onclick="toggleFullscreen()" title="Toggle Fullscreen">\n            <span class="fullscreen-icon">â›¶</span>\n          </button>\n          <button class="close-btn" onclick="closeGameModal()" title="Close Game">\n            <span class="close-icon">âœ•</span>\n          </button>\n        </div>\n      </div>\n      <div class="game-modal-content">\n        <iframe \n          src="games/${n}/index.html" \n          class="game-iframe"\n          frameborder="0"\n          allowfullscreen\n          title="${t.title}">\n        </iframe>\n      </div>\n    </div>\n  `,document.body.appendChild(a),document.body.style.overflow="hidden",document.addEventListener("keydown",handleEscapeKey)}function showGameModal(e){const n=getGameData(e),t=`\n        <div class="game-modal-overlay" onclick="closeGameModal()">\n            <div class="game-modal" onclick="event.stopPropagation()">\n                <div class="game-modal-header">\n                    <h3>${n.title}</h3>\n                    <button class="close-modal" onclick="closeGameModal()" aria-label="Close game modal">&times;</button>\n                </div>\n                <div class="game-modal-content">\n                    <div class="game-preview">\n                        <div class="game-placeholder">\n                            <h4>ðŸŽ® ${n.title}</h4>\n                            <p>Game is loading...</p>\n                            <div class="loading-spinner"></div>\n                        </div>\n                    </div>\n                    <div class="game-info">\n                        <h4>Game Features:</h4>\n                        <ul>\n                            ${n.features.map(e=>`<li>${e}</li>`).join("")}\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `;document.body.insertAdjacentHTML("beforeend",t),addModalStyles(),document.body.style.overflow="hidden"}function closeGameModal(){const e=document.querySelector(".game-modal-overlay");e&&(e.remove(),document.body.style.overflow="",document.removeEventListener("keydown",handleEscapeKey))}function toggleFullscreen(){const e=document.querySelector(".game-modal-container");e&&(document.fullscreenElement?document.exitFullscreen():e.requestFullscreen().catch(e=>{console.log("Error attempting to enable fullscreen:",e)}))}function handleEscapeKey(e){"Escape"===e.key&&closeGameModal()}function getGameData(e){const n={fnaf1:{title:"Five Nights at Freddy's",features:["Monitor security cameras","Conserve power to survive","Face Freddy, Bonnie, Chica, and Foxy","Classic survival horror gameplay"]},fnaf2:{title:"Five Nights at Freddy's 2",features:["New animatronic characters","Freddy Fazbear head mechanic","Music box for the Puppet","More challenging gameplay"]},fnaf3:{title:"Five Nights at Freddy's 3",features:["Phantom animatronics","Audio system mechanics","Springtrap as main antagonist","Atmospheric horror experience"]},fnaf4:{title:"Five Nights at Freddy's 4",features:["Audio-based gameplay","Nightmare animatronics","Child's bedroom setting","Intense listening mechanics"]},ucn:{title:"Ultimate Custom Night",features:["50+ animatronic characters","Custom difficulty settings","Multiple office layouts","Ultimate challenge mode"]},"fnaf-hack":{title:"FNAF Hack Edition",features:["Cheat codes and special abilities","Custom animatronics","Modified gameplay mechanics","Debug mode and developer tools"]}};return n[e]||n.fnaf1}function addModalStyles(){if(document.querySelector("#modal-styles"))return;document.head.insertAdjacentHTML("beforeend","\n        <style id=\"modal-styles\">\n        .game-modal-overlay {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background: rgba(0, 0, 0, 0.8);\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            z-index: 10000;\n            animation: fadeIn 0.3s ease;\n        }\n        \n        .game-modal {\n            background: var(--card-bg);\n            border-radius: 15px;\n            max-width: 90vw;\n            max-height: 90vh;\n            width: 600px;\n            overflow: hidden;\n            animation: slideIn 0.3s ease;\n        }\n        \n        .game-modal-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: 1rem 1.5rem;\n            border-bottom: 2px solid var(--primary-red);\n            background: var(--dark-bg);\n        }\n        \n        .game-modal-header h3 {\n            color: var(--accent-gold);\n            margin: 0;\n        }\n        \n        .close-modal {\n            background: none;\n            border: none;\n            color: var(--text-light);\n            font-size: 2rem;\n            cursor: pointer;\n            padding: 0;\n            width: 30px;\n            height: 30px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n        \n        .close-modal:hover {\n            color: var(--secondary-red);\n        }\n        \n        .game-modal-content {\n            padding: 1.5rem;\n            max-height: 70vh;\n            overflow-y: auto;\n        }\n        \n        .game-preview {\n            margin-bottom: 1.5rem;\n        }\n        \n        .game-placeholder {\n            background: var(--dark-bg);\n            border-radius: 10px;\n            padding: 2rem;\n            text-align: center;\n            border: 2px dashed var(--primary-red);\n        }\n        \n        .loading-spinner {\n            width: 40px;\n            height: 40px;\n            border: 4px solid var(--primary-red);\n            border-top: 4px solid var(--accent-gold);\n            border-radius: 50%;\n            animation: spin 1s linear infinite;\n            margin: 1rem auto;\n        }\n        \n        .game-info h4 {\n            color: var(--accent-gold);\n            margin-bottom: 1rem;\n        }\n        \n        .game-info ul {\n            list-style: none;\n            padding: 0;\n        }\n        \n        .game-info li {\n            color: var(--text-light);\n            margin-bottom: 0.5rem;\n            padding-left: 1.5rem;\n            position: relative;\n        }\n        \n        .game-info li::before {\n            content: 'ðŸŽ®';\n            position: absolute;\n            left: 0;\n        }\n        \n        @keyframes fadeIn {\n            from { opacity: 0; }\n            to { opacity: 1; }\n        }\n        \n        @keyframes slideIn {\n            from { transform: translateY(-50px); opacity: 0; }\n            to { transform: translateY(0); opacity: 1; }\n        }\n        \n        @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n        }\n        </style>\n    ")}function debounce(e,n){let t;return function(...a){clearTimeout(t),t=setTimeout(()=>{clearTimeout(t),e(...a)},n)}}function trackEvent(e,n){"undefined"!=typeof gtag&&gtag("event",e,n),console.log("Event tracked:",e,n)}function trackGamePlay(e){trackEvent("game_play",{game_id:e,game_name:getGameData(e).title})}document.addEventListener("DOMContentLoaded",function(){initializeWebsite()});const originalPlayGame=playGame;playGame=function(e){trackGamePlay(e),originalPlayGame(e)},document.addEventListener("keydown",function(e){"Escape"===e.key&&closeGameModal()}),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js").then(function(e){console.log("ServiceWorker registration successful")}).catch(function(e){console.log("ServiceWorker registration failed")})});